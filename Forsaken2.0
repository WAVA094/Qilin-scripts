local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()

local Window = redzlib:MakeWindow({
    Title = "QILIN HUB || forsaken 2.0 ",
    SubTitle = "by Wava",
    SaveFolder = "QilinHubCfg"
})

Window:AddMinimizeButton({
    Button = {
        Image = "rbxassetid://71014873973869",
        BackgroundTransparency = 0
    },
    Corner = {
        CornerRadius = UDim.new(0, 8)
    }
})

local DiscordInviteTab = Window:MakeTab({"Main", "mail"})

DiscordInviteTab:AddDiscordInvite({
    Name = "Invitation to the telegram channel ",
    Description = "Visit our telegram channel, there you can find many scripts for different Games ",
    Logo = "rbxassetid://18751483361",
    Invite = "https://t.me/qlnscrpt"
})

local Tab = Window:MakeTab({"Esp", "dice-1"})
local Tab2 = Window:MakeTab({"Auto ", "bitcoin"})
local Tab3 = Window:MakeTab({"Player ", "dice-2"})
local Tab4 = Window:MakeTab({"Other ", "mic"})
local Tab5 = Window:MakeTab({"Aimbot", "dice-3"})
local Section = Tab:AddSection({"Generators Section"})

-- Глобальные переменные
local ActiveAutoGenerator = false
local ActiveInfiniteStamina = false
local connections = {}

-- Generators ESP
local LolToggle = Tab:AddToggle({
    Name = "Generators Esp",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle:Callback(function(bool)
    _G.generators = bool
    task.spawn(function()
        while _G.generators and task.wait() do
            pcall(function()
                for i, v in pairs(workspace.Map.Ingame.Map:GetChildren()) do
                    if v.Name == "Generator" then
                        if not v:FindFirstChild("iskiddedfromneptz") then
                            local hl = Instance.new("Highlight", v)
                            hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                            hl.Name = "iskiddedfromneptz"
                            hl.FillColor = Color3.fromRGB(255, 255, 51)
                        elseif v.Progress.Value >= 100 then
                            v.iskiddedfromneptz.FillColor = Color3.fromRGB(0, 255, 0)
                        end
                    end
                end
            end)
        end
        
        -- Cleanup when toggled off
        if not _G.generators then
            pcall(function()
                for i, v in pairs(workspace.Map.Ingame.Map:GetChildren()) do
                    if v.Name == "Generator" and v:FindFirstChild("iskiddedfromneptz") then
                        v.iskiddedfromneptz:Destroy()
                    end
                end
            end)
        end
    end)
end)

-- Generators Nametags
local LolToggle2 = Tab:AddToggle({
    Name = "Generators Nametags",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle2:Callback(function(bool)
    _G.generatorstag = bool
    task.spawn(function()
        while _G.generatorstag and task.wait() do
            pcall(function()
                for i, v in pairs(workspace.Map.Ingame.Map:GetChildren()) do
                    if v.Name == "Generator" then
                        if not v:FindFirstChild("nametag") then
                            local bb = Instance.new("BillboardGui", v)
                            bb.Size = UDim2.new(4, 0, 1, 0)
                            bb.AlwaysOnTop = true
                            bb.Name = "nametag"
                            local text = Instance.new("TextLabel", bb)
                            text.TextColor3 = Color3.fromRGB(255, 255, 255)
                            text.TextStrokeTransparency = 0
                            text.Text = "Generator (" .. v.Progress.Value .. "%)"
                            text.TextSize = 20
                            text.BackgroundTransparency = 1
                            text.Size = UDim2.new(1, 0, 1, 0)
                        else
                            v.nametag.TextLabel.Text = "Generator (" .. v.Progress.Value .. "%)"
                        end
                    end
                end
            end)
        end
        
        -- Cleanup when toggled off
        if not _G.generatorstag then
            pcall(function()
                for i, v in pairs(workspace.Map.Ingame.Map:GetChildren()) do
                    if v.Name == "Generator" and v:FindFirstChild("nametag") then
                        v.nametag:Destroy()
                    end
                end
            end)
        end
    end)
end)

-- ESP Section
local Section = Tab:AddSection({"ESPs"})

-- Killers ESP
local LolToggle3 = Tab:AddToggle({
    Name = "Killers Esp",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle3:Callback(function(bool)
    _G.killers = bool
    task.spawn(function()
        while _G.killers and task.wait() do
            pcall(function()
                for i, v in pairs(workspace.Players.Killers:GetChildren()) do
                    if not v:FindFirstChild("iskiddedfromneptz") then
                        local hl = Instance.new("Highlight", v)
                        hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                        hl.Name = "iskiddedfromneptz"
                    end
                end
            end)
        end
        
        -- Cleanup when toggled off
        if not _G.killers then
            pcall(function()
                for i, v in pairs(workspace.Players.Killers:GetChildren()) do
                    if v:FindFirstChild("iskiddedfromneptz") then
                        v.iskiddedfromneptz:Destroy()
                    end
                end
            end)
        end
    end)
end)

-- Survivors ESP
local LolToggle4 = Tab:AddToggle({
    Name = "Survivors esp",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle4:Callback(function(bool)
    _G.survivors = bool
    task.spawn(function()
        while _G.survivors and task.wait() do
            pcall(function()
                for i, v in pairs(workspace.Players.Survivors:GetChildren()) do
                    if not v:FindFirstChild("iskiddedfromneptz") then
                        local hl = Instance.new("Highlight", v)
                        hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                        hl.Name = "iskiddedfromneptz"
                        hl.FillColor = Color3.fromRGB(0, 0, 255)
                    end
                end
            end)
        end
        
        -- Cleanup when toggled off
        if not _G.survivors then
            pcall(function()
                for i, v in pairs(workspace.Players.Survivors:GetChildren()) do
                    if v:FindFirstChild("iskiddedfromneptz") then
                        v.iskiddedfromneptz:Destroy()
                    end
                end
            end)
        end
    end)
end)

-- Items ESP
local LolToggle5 = Tab:AddToggle({
    Name = "Items esp",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle5:Callback(function(bool)
    _G.items = bool
    task.spawn(function()
        while _G.items and task.wait() do
            pcall(function()
                for i, v in pairs(workspace.Map.Ingame:GetDescendants()) do
                    if v:IsA("Tool") and not v:FindFirstChild("iskiddedfromneptz") then
                        local hl = Instance.new("Highlight", v)
                        hl.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                        hl.Name = "iskiddedfromneptz"
                        hl.FillColor = Color3.fromRGB(0, 255, 255)
                    end
                end
            end)
        end
        
        -- Cleanup when toggled off
        if not _G.items then
            pcall(function()
                for i, v in pairs(workspace.Map.Ingame:GetDescendants()) do
                    if v:IsA("Tool") and v:FindFirstChild("iskiddedfromneptz") then
                        v.iskiddedfromneptz:Destroy()
                    end
                end
            end)
        end
    end)
end)

local Section = Tab2:AddSection({"Generators Section"})

local LolToggle6 = Tab2:AddToggle({
    Name = "Auto Complete Generator",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle6:Callback(function(Value)
    ActiveAutoGenerator = Value 
    task.spawn(function()
        while ActiveAutoGenerator do 
            pcall(function()
                if game:GetService("Workspace").Map.Ingame:FindFirstChild("Map") then
                    for _, generator in pairs(game:GetService("Workspace").Map.Ingame.Map:GetChildren()) do 
                        if generator:IsA("Model") and generator.Name == "Generator" then 
                            if generator:FindFirstChild("Remotes") and generator.Remotes:FindFirstChild("RE") then 
                                generator.Remotes.RE:FireServer() 
                            end
                        end
                    end 
                end
            end)
            task.wait(2.5)
        end 
    end)
end)

local LolToggle7 = Tab2:AddToggle({
    Name = "Auto start generator",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

Tab2:AddButton({"Tp too random Generator", function() 
    local mapFolder = workspace:FindFirstChild("Map") and workspace.Map.Ingame:FindFirstChild("Map")
    if not mapFolder then return end

    local generators = {}
    for _, child in pairs(mapFolder:GetChildren()) do
        if child:IsA("Model") and child.Name == "Generator" then
            table.insert(generators, child)
        end
    end
    
    if #generators == 0 then return end
    
    local randomGenerator = generators[math.random(1, #generators)]
    local mainPart = randomGenerator:FindFirstChild("Main")
    local character = game.Players.LocalPlayer.Character
    local hrp = character and character:FindFirstChild("HumanoidRootPart")
    
    if hrp and mainPart then
        hrp.CFrame = mainPart.CFrame
    end
end})

LolToggle7:Callback(function(bool)
    _G.autoGen = bool
    task.spawn(function()
        while _G.autoGen and task.wait() do
            pcall(function()
                if workspace.Map.Ingame:FindFirstChild("Map") then
                    for i, v in pairs(workspace.Map.Ingame.Map:GetChildren()) do
                        if v.Name == "Generator" then
                            local function continue()
                                if game.Players.LocalPlayer.PlayerGui:FindFirstChild("PuzzleUI") then return end
                                if v.Main:FindFirstChild("Prompt") then
                                    fireproximityprompt(v.Main.Prompt)
                                end
                                task.wait(1)
                            end
                            
                            local hello = v.Positions.Center.Position
                            local hello2 = v.Positions.Right.Position
                            local hello3 = v.Positions.Left.Position
                            local char = game.Players.LocalPlayer.Character
                            local hrp = char and char:FindFirstChild("HumanoidRootPart")
                            
                            if hrp then
                                if (hrp.Position - hello).Magnitude <= 4 then
                                    continue()
                                elseif (hrp.Position - hello2).Magnitude <= 4 then
                                    continue()
                                elseif (hrp.Position - hello3).Magnitude <= 4 then
                                    continue()
                                end
                            end
                        end
                    end
                end
            end)
        end
    end)
end)

Tab3:AddButton({"kill all", function()
    local character = game.Players.LocalPlayer.Character
    if not character then return end
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end
    
    for i, v in pairs(workspace.Players.Survivors:GetChildren()) do
        local name = v:GetAttribute("Username")
        local plr = game.Players:FindFirstChild(name)
        if not plr then continue end
        
        local skipTimeout = tick()
        while tick() - skipTimeout <= 15 do
            if not _G.killAll then break end
            if not game.Players:FindFirstChild(name) then break end
            if not plr.Character then break end
            if not plr.Character:FindFirstChild("Humanoid") then break end
            if plr.Character.Humanoid.Health <= 0 then break end
            
            hrp.CFrame = plr.Character.HumanoidRootPart.CFrame
            game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Network"):WaitForChild("RemoteEvent"):FireServer("UseActorAbility", "Slash")
            task.wait()
        end
    end
end})

local LolToggle10 = Tab3:AddToggle({
    Name = "Auto coin flip",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle10:Callback(function(cool)
    _G.coin = cool
    task.spawn(function()
        while _G.coin and task.wait(2.1) do
            pcall(function()
                game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Network"):WaitForChild("RemoteEvent"):FireServer("UseActorAbility", "CoinFlip")
            end)
        end
    end)
end)

local LolToggle8 = Tab3:AddToggle({
    Name = "Inf stamina",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle8:Callback(function(Value)
    ActiveInfiniteStamina = Value
    task.spawn(function()
        while ActiveInfiniteStamina do
            pcall(function()
                local Sprinting = game:GetService("ReplicatedStorage").Systems.Character.Game.Sprinting
                if Sprinting then
                    local stamina = require(Sprinting)
                    stamina.MaxStamina = 100
                    stamina.MinStamina = -20
                    stamina.StaminaGain = 100
                    stamina.StaminaLoss = 5
                    stamina.SprintSpeed = 40
                    stamina.StaminaLossDisabled = true
                end
            end)
            task.wait(0.5)
        end
    end)
end)

local LolToggle11 = Tab3:AddToggle({
    Name = "Allow Jumping",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle11:Callback(function(s)
    _G.mhhmmm2 = s
    if s then
        game.StarterGui:SetCore("SendNotification", {
            Title = "Jump Enabled",
            Text = "Jumping has been enabled",
            Duration = 3
        })
    end
    task.spawn(function()
        local localPlayer = game:GetService("Players").LocalPlayer
        while task.wait() do
            if not _G.mhhmmm2 then break end
            local humanoid = localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid")
            if humanoid then
                humanoid.JumpPower = 50
            end
        end
    end)
end)

local LolToggle12 = Tab3:AddToggle({
    Name = "NoClip",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle12:Callback(function(s)
    if s == true then
        game.StarterGui:SetCore("SendNotification", {
            Title = "NoClip Enabled",
            Text = "NoClip has been enabled",
            Duration = 3
        })
    end
    _G.nokia = s
    local cachey = {}
    task.spawn(function()
        local localPlayer = game:GetService("Players").LocalPlayer
        while task.wait() do
            if not _G.nokia then
                for i, v in pairs(cachey) do
                    v.CanCollide = true
                end
                break
            end
            if localPlayer.Character then
                for i, v in pairs(localPlayer.Character:GetChildren()) do
                    if v:IsA("BasePart") then
                        cachey[v] = v
                        v.CanCollide = false
                    end
                end
            end
        end
    end)
end)

Tab4:AddButton({"FullBright", function()
    pcall(function()
        for i,v in pairs(game.Lighting:GetDescendants()) do
            if v:IsA("Atmosphere") then
                v:Destroy()
            end
        end
        game.Lighting.FogEnd = 999999
        game.Lighting.GlobalShadows = false
        game.Lighting.Brightness = 2
    end)
end})

local function givemesomepizza(state)
    if not state then
        for _, conn in ipairs(connections) do
            conn:Disconnect()
        end
        connections = {}
        return
    end

    local function tp(child)
        if child:IsA("BasePart") and child.Name == "Pizza" then
            local player = game.Players.LocalPlayer
            if player and player.Character then
                local hrp = player.Character:FindFirstChild("HumanoidRootPart")
                if hrp then
                    child.CFrame = hrp.CFrame
                end
            end
        end
    end

    table.insert(connections, workspace.DescendantAdded:Connect(tp))
end

local LolToggle9 = Tab4:AddToggle({
    Name = "Auto collect pizza",
    Description = " (<font color='rgb(0, 255, 0)'>On</font> or <font color='rgb(255, 0, 0)'>Off</font>)",
    Default = false 
})

LolToggle9:Callback(function(state)
    givemesomepizza(state)
end)

local Paragraph = Tab5:AddParagraph({
    "Soon...", 
    "Subscribe to the telegram channel and follow the news"
})
